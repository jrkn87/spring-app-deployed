<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
<title>Complaint details | Portfolio_App</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>
</head>
<body style="height: 100vh; font-size: 12px; padding: 0px;">
	<div class="row h-100">
		<div class="col-md-12">
			<nav class="navbar navbar-expand-md bg-dark navbar-dark">
				<a class="navbar-brand" href="/jrk" th:href="@{/jrk}">
					<img src="img/logo-white.png" width="150px" height="100%" alt="logo">
				</a>
				<ul class="navbar-nav  mr-auto"></ul>
				<ul class="navbar-nav">
					<li class="nav-item">
						<a class="nav-link" href="#">Sign in</a>
					</li>
					<li class="nav-item active">
						<a class="nav-link" href="#">Log in</a>
					</li>
				</ul>
			</nav>
			<nav class="navbar bg-light navbar-light">
				<span class="navbar-text">
					<h1>Complaint application</h1>
				</span>
			</nav>
			<nav aria-label="breadcrumb" style="border-radius: 0px">
				<ol class="breadcrumb bg-secondary">
					<li class="breadcrumb-item"><a href="/jrk" th:href="@{/jrk}" class="text-light">
						<img src="img/home-icon.png" alt="Logo" style="width:20px; height: auto"></a></li>
					<li class="breadcrumb-item"><a href="/complaints" th:href="@{/complaints}" class="text-light">Complaints</a></li>
					<li class="breadcrumb-item text-dark active" aria-current="page">Complaint details</li>
				</ol>
			</nav>
			<div class="d-flex justify-content-center" style="margin: 15px 0;">
				<h4>Szczegóły reklamacji</h4>
			</div>
		</div>
		<div class="col-md-12">
			<div class="container">
				<div class="row">
					<div class="col">
						<div class="row">
							<div class="col-md-12"></div>
				<!--CONTENT START-->
							<div class="col-md-12 table-responsive">
								<table class="table shadow p-3 mb-5 bg-white rounded">
								<caption>
									<a class="btn btn-secondary" style="margin-bottom: 15px;" data-toggle="modal" data-target="#myModal" href="#">Zmień status</a>
								</caption>
									<thead class="thead-light">
										<tr>
											<th>Numer reklamacji</th>
											<th>Status</th>
											<th>Ilość dni</th>
											<th>Ilość dni w serwisie</th>
											<th>Uwagi</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td th:text="${complaint.id}">21345</td>
											<td th:text="${complaint.status}">w serwisie</td>
											<td th:text="${complaint.durationTimeOnDays}">12</td>
											<td th:text="${complaint.durationTimeOnDaysInService}">21</td>
											<td th:text="${complaint.comment}">Brak</td>
										</tr>
									</tbody>
									<tbody>
										<tr>
											<td><br></td>
										</tr>										
									</tbody>
									<thead class="thead-light">
										<tr>
											<th>Data</th>
											<th>Data</th>
											<th>Data</th>
											<th>Data</th>
											<th></th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td th:text="${complaint.startDate}">219-05-21</td>
											<td th:text="${complaint.pushServiceDate}">219-05-21</td>
											<td th:text="${complaint.pullServiceDate}">-</td>
											<td th:text="${complaint.pickupDate}">219-05-21</td>
											<td></td>
										</tr>
									</tbody>
									<tbody>
										<tr>
											<td><br></td>
										</tr>										
									</tbody>
									<thead class="thead-light">
										<tr>
											<th>Klient</th>
											<th>Tel</th>
											<th></th>
											<th></th>
											<th></th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td th:text="${complaint.client.clientName}">Nowak</td>
											<td th:text="${complaint.client.phoneNumber}">516854798</td>
											<td></td>
											<td></td>
											<td></td>
										</tr>
									</tbody>
									<tbody>
										<tr>
											<td><br></td>
										</tr>										
									</tbody>
									<thead class="thead-light">
										<tr>
											<th>Produkt</th>
											<th>Producent</th>
											<th>Numer seryjny</th>
											<th>Stan urządzenia</th>
											<th>Opis</th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td th:text="${complaint.product.productName}">Bosh</td>
											<td th:text="${complaint.product.producer}">Bosh</td>
											<td th:text="${complaint.product.serialNumber}">98745646321654987</td>
											<td th:text="${complaint.product.deviceStatus}">typowe ślady urzytkowania</td>
											<td th:text="${complaint.description}">test test tes tes tes tetstetststetet etetetet s</td>
										</tr>
									</tbody>
									<tbody>
										<tr>
											<td><br></td>
										</tr>										
									</tbody>
									<thead class="thead-light">
										<tr>
											<th>Wynik reklamacji</th>
											<th>Kontakt z serwisem</th>
											<th>Decyzja klienta</th>
											<th>Sposób odbioru</th>
											<th></th>
										</tr>
									</thead>
									<tbody>
										<tr>
											<td th:text="${complaint.result}">-</td>
											<td th:text="${complaint.additionalDescription}">-</td>
											<td th:text="${complaint.decision}">-</td>
											<td th:text="${complaint.pickupWay}">-</td>
											<td>-</td>
										</tr>
									</tbody>
								</table>
							</div>

				<!--CONTENT END-->
					</div>
					</div>
				</div>
			</div>
		</div>
		<div class="col-md-12 align-self-end">
			<footer class="bg-dark text-white">
					<div class="container-fluid py-3">
							<div class="row">
									<div class="col-md-6">
										<a href="https://github.com/jrkn87/spring-app-deployed.git" target="_blank" class="btn btn-link text-white">Project on GitHub</a>
									</div>
									<div class="col-md-3"></div>
									<div class="col-md-3 text-right small align-self-end">©2019 JRKN87</div>
							</div>
					</div>
			</footer>
		</div>
	</div>
	<!-- The Modal -->
	<div class="modal" id="myModal">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content">
				<!-- Modal Header -->
				<div class="modal-header">
					<h4 class="modal-title">Zmień status reklamacji</h4>
					<button type="button" class="close" data-dismiss="modal">&times;</button>
				</div>
				<!-- Modal body -->
				<div class="modal-body">
					<form action="#" th:action="@{/test}" th:object="${complaint}" method="post">
						<input type="hidden" th:field="*{id}">
						<div class="form-group">
							<label for="statuss">Select list (select one):</label>
							<select th:field="*{status}" class="form-control" id="statuss" name="statuslist">
								<option th:each="stat : ${allStatus}"
										th:text="${stat}"
										th:value="${stat.name()}"></option>
							</select>
						</div>
						<button type="submit" class="d-flex ml-auto btn btn-secondary">Zmień status</button>
					</form>
				</div>
			</div>
		</div>
	</div>
</body>
</html>